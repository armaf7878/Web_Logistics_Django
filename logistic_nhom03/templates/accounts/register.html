{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Đăng ký | Logistic</title>
  <style>
    :root{
      --brand:#0a2540;
      --accent:#2bb673;
      --accent-2:#1d9f75;
      --text:#0f172a;
      --muted:#64748b;
      --card:#ffffff;
      --line:#e2e8f0;
      --bg:#f6f8fb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:var(--bg);
    }

    /* ===== BỐ CỤC 2 CỘT 50/50 + ĐƯỜNG CHIA ===== */
    .auth-wrapper{
      min-height:100vh;
      display:grid;
      grid-template-columns:1fr 1fr;
      position:relative;
      isolation:isolate;
    }
    .auth-wrapper::before{
      content:"";
      position:absolute;
      inset:0;
      width:1px;
      background:var(--line);
      left:50%;
      transform:translateX(-0.5px);
      z-index:0;
    }

    /* ===== CỘT TRÁI: ẢNH + THÔNG ĐIỆP (GIỐNG LOGIN) ===== */
    .auth-illustration{
      position:relative;
      background:
        linear-gradient(120deg, rgba(10,37,64,.85), rgba(10,37,64,.6)),
        url('{% static "images/dangky.jpg" %}') center/cover no-repeat;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:56px;
      color:#fff;
      z-index:1;
    }
    .hero{position:relative; z-index:1; width:100%; max-width:560px}
    .brand{display:flex; align-items:center; gap:12px; margin-bottom:28px; opacity:.95}
    .brand img{width:40px; height:40px; border-radius:8px}
    .brand h1{font-size:22px; font-weight:700; letter-spacing:.3px; margin:0}
    .hero-title{font-size:40px; line-height:1.15; margin:6px 0 14px; font-weight:800}
    .hero-sub{font-size:16px; color:#e2e8f0}
    .hero-bullets{display:flex; gap:14px; margin-top:18px; flex-wrap:wrap}
    .chip{background:rgba(255,255,255,.12); color:#e6f7ef; border:1px solid rgba(255,255,255,.2); padding:8px 12px; border-radius:999px; font-size:13px}

    /* ===== CỘT PHẢI: FORM (GIỐNG LOGIN) ===== */
    .auth-pane{
      display:flex; align-items:center; justify-content:center; padding:40px; z-index:1;
      background:var(--bg);
    }
    .card{
      width:100%; max-width:440px; 
      background:var(--card);
      border:1px solid var(--line); border-radius:16px;
      box-shadow:0 10px 30px rgba(16,24,40,.06)
    }
    .card header{padding:28px 28px 0}
    .card-body{padding:28px}
    .card h2{margin:0; font-size:24px}
    .card p.desc{margin:6px 0 0; color:var(--muted); font-size:14px}

    form{display:grid; gap:16px; margin-top:18px}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    label{font-size:13px; color:var(--muted); display:block; margin-bottom:6px}
    input, select { /* Thêm select vào đây */
      width:100%; padding:12px 14px; border:1px solid var(--line); border-radius:10px;
      font-size:15px; background:#fff; outline:none; transition:border .15s, box-shadow .15s
    }
    input:focus, select:focus { /* Thêm select vào đây */
      border-color:var(--accent); box-shadow:0 0 0 4px rgba(43,182,115,.12)
    }

    .actions{
      display:flex; align-items:center; justify-content:center; gap:12px; margin-top:6px
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 16px; border-radius:12px; border:1px solid transparent; cursor:pointer; font-weight:600
    }
    .btn-primary{background:var(--accent); color:#fff; min-width:170px}
    .btn-primary:hover{background:var(--accent-2)}
    .btn-ghost{background:#fff; color:var(--brand); border:1px solid var(--line); min-width:170px}
    .btn-ghost:hover{border-color:#cbd5e1}

    .messages{margin-top:8px}
    .msg{padding:10px 12px; background:#fff5f5; color:#b42318; border:1px solid #fecaca; border-radius:10px; font-size:14px}

    .footer{padding:0 28px 24px; display:flex; justify-content:center; gap:8px; color:var(--muted); font-size:14px}
    .footer a{color:var(--brand); text-decoration:none}
    .footer a:hover{text-decoration:underline}

    /* ===== RESPONSIVE (ĐỒNG BỘ VỚI LOGIN) ===== */
    @media (max-width:1100px){.hero-title{font-size:34px}}
    @media (max-width:980px){
      .auth-wrapper{grid-template-columns:1fr}
      .auth-wrapper::before{display:none}
      .auth-illustration{padding:36px 24px;min-height:42vh} 
      .auth-pane{padding:24px} 
      .card{box-shadow:none}
      .grid{grid-template-columns:1fr} 
    }
    @media (max-width:420px){
      .actions{flex-direction:column}
      .btn{width:100%}
    }
  </style>
</head>
<body>
  <div class="auth-wrapper">
    <aside class="auth-illustration">
      <div class="hero">
        <div class="brand">
          <img src="{% static 'icon_user.webp' %}" alt="Logo" />
          <h1>WAREHOUSE LOGISTIC</h1>
        </div>
        <div>
          <div class="hero-title">Tạo tài khoản quản trị vận hành</div>
          <div class="hero-sub">Đồng bộ người dùng, phân quyền linh hoạt và khởi tạo dữ liệu phục vụ quản lý kho và vận chuyển.</div>
          <div class="hero-bullets">
            <span class="chip">Quản lý nhân sự</span>
            <span class="chip">Bảo mật dữ liệu</span>
            <span class="chip">Kết nối hệ thống</span>
          </div>
        </div>
      </div>
    </aside>

    <main class="auth-pane">
      <div class="card">
        <header>
          <h2>TẠO TÀI KHOẢN MỚI</h2>
          <p class="desc">Tạo tài khoản cho nhân viên hoặc tài xế.</p>
          </header>
        <div class="card-body">
          <form method="POST" action="{% url 'register' %}">
            {% csrf_token %}
            <div class="grid">
              <div>
                <label for="name">Họ và tên</label>
                <input id="name" type="text" name="name" placeholder="Nguyễn Văn A" autocomplete="name" required />
              </div>
              <div>
                <label for="phone">Số điện thoại</label>
                <input id="phone" type="tel" name="phone" placeholder="09xx xxx xxx" autocomplete="tel" />
              </div>
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" type="email" name="email" placeholder="username@gmail.com" autocomplete="email" required />
            </div>
            <div>
              <label for="password">Mật khẩu</label>
              <input id="password" type="password" name="password" placeholder="••••••••" autocomplete="new-password" required />
            </div>

            <div>
              <label for="role">Vai trò</label>
              <select id="role" name="role" required>
                <option value="staff" selected>Nhân viên kho</option>
                <option value="deliver">Tài xế giao hàng</option>
                <option value="admin">Quản trị viên</option>
                </select>
              </div>
            <div class="actions">
              <button class="btn btn-primary" type="submit">Tạo tài khoản</button>
            </div>
            <div class="messages">
              {% for message in messages %}
                <div class="msg">{{ message }}</div>
              {% endfor %}
            </div>
          </form>
        </div>

        <div class="footer">
          <span>Quay lại</span>
          <a href="{% url 'showall' %}">Danh sách tài khoản</a>
          </div>
      </div>
    </main>
  </div>
</body>
</html>